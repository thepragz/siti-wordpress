!function(e){"use strict";function t(t,r){var n=e(window).scrollTop(),o=n+e(window).height(),i=t.offset().top,a=i+t.height();return r=r||!1,r?n<i&&a<o:n<=i&&i<=o||n<=a&&a<=o}function r(e){var t,r=!0;try{t=new RegExp(e)}catch(n){r=!1}return r?t:(alert("Invalid regular expression"),!1)}function n(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):"Chrome"===r[1]&&(e=t.match(/\bOPR\/(\d+)/),null!==e)?{name:"Opera",version:e[1]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),{name:r[0],version:r[1]})}function o(t){function r(e){return decodeURIComponent(e)}var n={},o=t||document.location.search;if(""===o)return n;for(o=o.replace(/(^\?)/,"").replace(/;/g,"&");o.indexOf("&&")!=-1;)o=o.replace(/&&/g,"&");o=o.replace(/([\&]+$)/,""),o=o.split("&");for(var i=0;i<o.length;i++){var a=o[i].split("=");if(a=e.map(a,r),void 0!==n[a[0]])if("string"==typeof n[a[0]]){var s=n[a[0]];""===a[1]&&(a[1]=null),n[a[0]]=[],n[a[0]].push(s),n[a[0]].push(a[1])}else"object"==typeof n[a[0]]&&(""===a[1]&&(a[1]=null),n[a[0]].push(a[1]));else""===a[1]&&(a[1]=null),n[a[0]]=a[1]}return n}window.pum_atc_vars=window.pum_atc_vars||{page:0};var i,a=document.referrer,s=new MobileDetect(window.navigator.userAgent),c=PUM.getCookie("pum_alm_pages_viewed")||[],u=parseInt(pum_atc_vars.page)||-1,l=PUM.getCookie("pum_alm_first_activity")||!1,p=PUM.getCookie("pum_alm_last_activity")||!1,_=new Date;if("string"==typeof c&&(c=c.split(",")),c.length)for(var f=0;c.length>f;f++)c[f]=parseInt(c[f].trim());u>=0&&c.indexOf(u)===-1&&(c.push(u),e.pm_cookie("pum_alm_pages_viewed",c.join(","),{expires:"1 month"},"/")),(!l||p+3600<_.getTime())&&(l=new Date,l=l.getTime(),e.pm_cookie("pum_alm_first_activity",l,{expires:"1 day"},"/")),e.pm_cookie("pum_alm_last_activity",_.getTime(),{expires:"1 day"},"/"),e(document).on("ready keypress scroll click touchstart mousedown mousemove",function(t){_=new Date,e.pm_cookie("pum_alm_last_activity",_.getTime(),{expires:"1 day"},"/")}),i=o(),e.extend(e.fn.popmake.conditions,{url_is:function(e){var t=e.search||!1,r=new RegExp("^"+t+"$")||!1,n=document.location.toString();return!t||r.test(n)},url_contains:function(e){var t=e.search||!1,r=new RegExp(t)||!1,n=document.location.toString();return!t||r.test(n)},url_begins_with:function(e){var t=e.search||!1,r=new RegExp("^"+t),n=document.location.toString();return!t||r.test(n)},url_ends_with:function(e){var t=e.search||!1,r=new RegExp(t+"$"),n=document.location.toString();return!t||r.test(n)},url_regex:function(e){var t=e.search||!1,n=r(t),o=document.location.toString();return!t||!!n&&n.test(o)},query_arg_exists:function(e){var t=e.arg_name||!1;return!!t&&t in i},query_arg_is:function(e){var t=e.arg_name||!1,r=e.arg_value||!1;return!!t&&("undefined"!=typeof i[t]&&i[t]==r)},browser_is:function(e){var t,r=e.selected||[];for(t=0;r.length>t;t++)if(r[t]===n().name)return!0;return!1},browser_version:function(e){var t=parseFloat(e.morethan)||!1,r=parseFloat(e.lessthan)||!1,o=parseFloat(n().version);return t&&!r?o>t:r&&!t?r>o:!(!r||!t)&&(r>o&&o>t)},browser_width:function(e){var t=window.innerWidth,r=parseFloat(e.morethan)||!1,n=parseFloat(e.lessthan)||!1;return r&&!n?t>r:n&&!r?n>t:n&&r?n>t&&t>r:!n&&!r},browser_height:function(e){var t=window.innerHeight,r=parseFloat(e.morethan)||!1,n=parseFloat(e.lessthan)||!1;return r&&!n?t>r:n&&!r?n>t:n&&r?n>t&&t>r:!n&&!r},html_element_exists:function(t){var r=t.selector||"",n=e(r);return n.length>0},html_element_has_class:function(t){var r=t.selector||"",n=t["class"]||"",o=e(r).filter("."+n);return o.length>0},html_element_on_screen:function(r){var n=r.selector||"",o=e(n),i=void 0!==r.entirely&&r.entirely;return!!o.length&&t(o,i)},device_is_mobile:function(){return s.mobile()},device_is_phone:function(){return s.phone()},device_is_tablet:function(){return s.tablet()},device_is_brand:function(e){var t,r=e.selected||[];for(t=0;r.length>t;t++)if(s.is(r[t]))return!0;return!1},device_screen_width:function(e){var t=window.screen.width,r=parseFloat(e.morethan)||!1,n=parseFloat(e.lessthan)||!1;return r&&!n?t>r:n&&!r?n>t:n&&r?n>t&&t>r:!n&&!r},device_screen_height:function(e){var t=window.screen.height,r=parseFloat(e.morethan)||!1,n=parseFloat(e.lessthan)||!1;return r&&!n?t>r:n&&!r?n>t:n&&r?n>t&&t>r:!n&&!r},referrer_is:function(e){var t=e.search||!1,r=new RegExp("^"+t+"$")||!1;return!t||r.test(a)},referrer_contains:function(e){var t=e.search||!1,r=new RegExp(t)||!1;return!t||r.test(a)},referrer_begins_with:function(e){var t=e.search||!1,r=new RegExp("^"+t);return!t||r.test(a)},referrer_ends_with:function(e){var t=e.search||!1,r=new RegExp(t+"$");return!t||r.test(a)},referrer_regex:function(e){var t=e.search||!1,n=r(t);return!t||!!n&&n.test(a)},referrer_is_search_engine:function(e){var t,n=e.search||[];return"string"!=typeof n&&(n=n.join("|")),t=r(n),t.test(a)},referrer_is_external:function(){return""!==a&&a.indexOf(location.protocol+"//"+location.host)===-1},cookie_exists:function(t){var r=t.cookie_name||!1;return!!r&&void 0!==e.fn.popmake.cookie.process(r)},cookie_is:function(t){var r=t.cookie_name||!1,n=t.cookie_value||!1;return!!r&&(void 0!==e.fn.popmake.cookie.process(r)&&e.fn.popmake.cookie.process(r)==n)},page_views:function(t){var r=parseInt(PUM.getCookie("pum_alm_page_views"))||0,n=parseFloat(t.morethan)||!1,o=parseFloat(t.lessthan)||!1;return"number"!=typeof r&&(r=0),r++,e.pm_cookie("pum_alm_page_views",r,{expires:"1 day"},"/"),n&&!o?r>n:o&&!n?o>r:o&&n?o>r&&r>n:!o&&!n},time_on_site:function(e){var t,r=new Date,n=parseFloat(e.morethan)||!1,o=parseFloat(e.lessthan)||!1;return t=r.getTime()-l,n&&!o?t>60*n*1e3:o&&!n?60*o*1e3>t:o&&n?60*o*1e3>t&&t>60*n*1e3:!o&&!n},has_viewed_page:function(e){var t=e.selected||[];if("string"==typeof t&&(t=t.split(",")),t.length)for(var r=0;t.length>r;r++){var n=parseInt(t[r].trim());if(n>=0&&c.indexOf(n)===-1)return!1}return!0},js_function:function(e){return void 0!==e.function_name&&"function"==typeof window[e.function_name]&&window[e.function_name]()}})}(jQuery);